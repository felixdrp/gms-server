{"version":3,"sources":["process-topic-file.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAM,WAAW,QAAQ,UAAR,CAAX;AACN,IAAM,KAAK,QAAQ,IAAR,CAAL;AACN,IAAM,YAAY,QAAQ,IAAR,CAAa,CAAb,KAAmB,iEAAnB;;IAEG;AACnB,WADmB,gBACnB,CAAa,QAAb,EAAwB;wCADL,kBACK;;AACtB,SAAK,QAAL,GAAgB,YAAY,SAAZ,CADM;GAAxB;;6BADmB;;;;YAOb;;;;;yBAAS;;;uBAGI,oBAAqB,KAAK,QAAL;;;AAApC;;;;;;;;AAGA,wBAAQ,KAAR;;;iDAGK;;;;;;;;;;;;;;;;;SAhBU;;;;;;AAoBrB,SAAS,mBAAT,CAA8B,QAA9B,EAAyC;AACvC,SAAO,sBACL,UAAC,OAAD,EAAU,MAAV,EAAqB;AACnB,QAAM,KAAK,SAAS,eAAT,CAAyB;AAClC,aAAO,GAAG,gBAAH,CAAqB,QAArB,CAAP;KADS,CAAL,CADa;;AAKnB,QAAI,OAAO,EAAP;QACA,QAAQ,EAAR,CANe;;AAQnB,OAAG,EAAH,CAAM,MAAN,EAAc,UAAC,IAAD,EAAU;AACtB,eAAS,IAAT,CADsB;;AAGtB,UAAI,QAAQ,GAAR,EAAa;;AAEf,aAAK,IAAL,CAAW,KAAK,KAAL,CAAW,KAAX,CAAX,EAFe;AAGf,gBAAQ,EAAR,CAHe;OAAjB;KAHY,CAAd,CARmB;;AAkBnB,OAAG,EAAH,CAAM,OAAN,EAAe,YAAM;AACnB,cAAQ,IAAR,EADmB;KAAN,CAAf,CAlBmB;GAArB,CADF,CADuC;CAAzC","file":"process-topic-file.js","sourcesContent":["\n\nconst readline = require('readline');\nconst fs = require('fs');\nconst FILE_PATH = process.argv[3] || '/home/rp/Downloads/forLong/news_representative_words_output.txt';\n\nexport default class ProcessTopicFile {\n  constructor( filePath ) {\n    this.filePath = filePath || FILE_PATH;\n  }\n\n  async getData() {\n\n    let result = {};\n\n    try {\n      result = await extractDataFromFile( this.filePath );\n    }\n    catch (e) {\n      console.error(e);\n    }\n\n    return result;\n  }\n}\n\nfunction extractDataFromFile( filePath ) {\n  return new Promise(\n    (resolve, reject) => {\n      const rl = readline.createInterface({\n        input: fs.createReadStream( filePath )\n      });\n\n      let data = [],\n          cache = '';\n\n      rl.on('line', (line) => {\n        cache += line;\n\n        if (line == '}') {\n          // console.log('Line from file:', JSON.stringify( JSON.parse(cache) ) );\n          data.push( JSON.parse(cache) );\n          cache = '';\n        }\n      });\n\n      rl.on('close', () => {\n        resolve(data);\n      });\n    }\n  );\n}\n"],"sourceRoot":"/source/"}